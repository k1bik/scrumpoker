<% @title = "Scrumpoker | #{@room.name}" %>
<%= turbo_stream_from dom_id(@room) %>

<div class="w-full">
  <%= turbo_frame_tag "room_estimates_#{@room.id}" do %>
    <%= render "estimates", estimates: @estimates, current_user_estimate: @current_user_estimate %>
  <% end %>

  <div class="flex space-x-8">
    <div class="w-1/3 bg-gray-100 p-3 rounded-lg h-min">
      <div class="text-orange-500 mb-4">
        Statistics
      </div>
      <div class="flex flex-col text-sm space-y-2">
        <div class="flex w-full justify-between">
          <span>Game played:</span>
          <span class="text-orange-500"><%= @room.total_games %></span>
        </div>
        <div class="flex w-full justify-between">
          <span>Choice estimate 4:</span>
          <span class="text-orange-500">2</span>
        </div>
        <div class="flex w-full justify-between">
          <span>Choice estimate 3:</span>
          <span class="text-orange-500">1</span>
        </div>
        <div class="flex w-full justify-between">
          <span>Choice estimate 6:</span>
          <span class="text-orange-500">6</span>
        </div>
      </div>
    </div>
    <div class="flex flex-col w-2/3 text-sm">
      <div class="bg-orange-100 w-full p-4 rounded-lg flex justify-between mb-4 text-base">
        <span>Name</span>
        <span>Estimate</span>
      </div>
      <%= turbo_frame_tag "estimate_table_room_#{@room.id}" do %>
        <%= render "estimate_table", players: @players, room: @room %>
      <% end %>
    </div>
    <div class="w-1/4 bg-gray-100 p-3 rounded-lg h-min">
      <div class="text-orange-500 mb-4">Actions</div>
      <div class="grid grid-cols-2 gap-2 text-sm">
        <%= turbo_frame_tag "room_actions_#{@room.id}" do %>
          <%= render "actions", room: @room %>
        <% end %>
        <span>Edit room</span>
        <%= link_to "Edit players list", room_players_path(@room) %>
        <span>Delete room</span>
      </div>
    </div>
  </div>
</div>